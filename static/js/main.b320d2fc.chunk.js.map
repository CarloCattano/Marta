{"version":3,"sources":["Patchbay.jsx","buttonEdge.js","App.js","index.js"],"names":["edgeTypes","buttonedge","id","sourceX","sourceY","targetX","targetY","sourcePosition","targetPosition","style","arrowHeadType","data","markerEndId","edgePath","getBezierPath","markerEnd","getMarkerEnd","getEdgeCenter","edgeCenterX","edgeCenterY","className","d","width","height","x","foreignObjectSize","y","requiredExtensions","onClick","event","evt","stopPropagation","extractString","split","summedName","substring","length","el","document","getElementById","console","log","remove","onEdgeClick","ports","connections","BasicFlow","useState","elements","setElements","snapToGrid","onConnect","params","els","addEdge","type","src","dst","includes","toString","push","process_conection","source","target","onElementsRemove","elementsToRemove","removeElements","RenderPorts","DisplayData","JsonData","map","info","name","label","position","animated","color","gap","App","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.b320d2fc.chunk.js","sourcesContent":["import React, { useState } from 'react'\r\nimport JsonData from './test_data.json'\r\nimport ButtonEdge from './buttonEdge'\r\n\r\nimport ReactFlow, {\r\n\tremoveElements,\r\n\taddEdge,\r\n\tBackground,\r\n  } from 'react-flow-renderer'\r\n\r\nconst edgeTypes = {\r\n\tbuttonedge: ButtonEdge,\r\n}\r\n\r\nconst ports = []\r\nconst connections = []\r\n\r\nfunction RenderPorts(){\r\n\tconst DisplayData=JsonData.map( (info) => {\r\n\t\t\tif (info.type === 'input') {\r\n\t\t\t\tports[info.id]={\r\n\t\t\t\t\tid: info.name, type: 'input', data: { label: info.name },\r\n\t\t\t\t\tposition: { x: 100, y: 60 * info.id }, animated: true, \r\n\t\t\t\t\tsourcePosition: 'right'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (info.type === 'output') {\r\n\t\t\t\tports[info.id]={\r\n\t\t\t\t\tid: info.name, type: 'output', data: { label: info.name },\r\n\t\t\t\t\tposition: { x: 600, y:( 50 * info.id)-200 }, animated: true, \r\n\t\t\t\t\ttargetPosition: 'left'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t)\r\n\treturn(\r\n\t\t<div>\t\t\r\n\t\t\t{DisplayData} \t\r\n\t\t\t<div style={{ height: 800 }}>\r\n\t\t\t\t<BasicFlow>\t\r\n\t\t\t\t\t<Background color=\"#FFFF\" gap={16} />\r\n\t\t\t\t</BasicFlow>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n// TO DO : Remove the conection only aka Edge aka patchcable\r\n\r\n// If a conection exists already ignore , if it doesnt add it to the connections array\r\nfunction process_conection(src, dst) {\r\n\t\r\n\treturn !connections.includes(src.toString() + dst.toString()) ? connections.push(src.toString()+dst.toString()) : console.log(\"already in database\"),console.log(connections)\r\n\r\n}\r\n\r\nfunction BasicFlow() {\r\n\tconst [elements, setElements] = useState(ports);\r\n\tconst onConnect = (params) => setElements((els) => addEdge({...params,type:'buttonedge'}, els), process_conection(params.source,params.target))\r\n    const onElementsRemove = (elementsToRemove) => setElements((els) => removeElements(elementsToRemove, els));\r\n\t\r\n\treturn (\r\n\t\t<ReactFlow elements={elements} snapToGrid={true}\r\n\t\t\tonConnect={onConnect}  onElementsRemove={onElementsRemove} \r\n\t\t\tedgeTypes={edgeTypes}  key=\"edge-with-button\">\r\n\t\t</ReactFlow>\r\n\t)\r\n}\r\n\r\nexport default RenderPorts;\r\n","import React from 'react'\r\nimport {\r\n  getBezierPath,\r\n  getEdgeCenter,\r\n  getMarkerEnd,\r\n  removeElements,\r\n} from 'react-flow-renderer';\r\n\r\nimport './index.css';\r\n\r\nconst foreignObjectSize = 40;\r\n\r\nconst onEdgeClick = (evt, id) => {\r\n  evt.stopPropagation();\r\n\r\n  let extractString = id.split(\"-\")\r\n  let sourceConection = extractString[1].substring(0,extractString[1].length - 4)\r\n  let destinationConection = extractString[2].substring(0,extractString[2].length - 4)\r\n  let summedName = sourceConection+\"->\"+destinationConection\r\n  var el = document.getElementById(id);\r\n\r\n  // Remove cable ok ,  how to REMOVE edge-button ? \r\n  console.log(summedName)\r\n  //el.parentNode.removeChild(el);\r\n\r\n  el.remove()\r\n  console.log(el)\r\n};\r\n\r\nexport default function CustomEdge({\r\n  id,\r\n  sourceX,\r\n  sourceY,\r\n  targetX,\r\n  targetY,\r\n  sourcePosition,\r\n  targetPosition,\r\n  style = {},\r\n  data,\r\n  arrowHeadType,\r\n  markerEndId,\r\n}) {\r\n  const edgePath = getBezierPath({\r\n    sourceX,\r\n    sourceY,\r\n    sourcePosition,\r\n    targetX,\r\n    targetY,\r\n    targetPosition,\r\n  });\r\n  const markerEnd = getMarkerEnd(arrowHeadType, markerEndId);\r\n  const [edgeCenterX, edgeCenterY] = getEdgeCenter({\r\n    sourceX,\r\n    sourceY,\r\n    targetX,\r\n    targetY,\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <path\r\n        id={id}\r\n        style={style}\r\n        className=\"react-flow__edge-path\"\r\n        d={edgePath}\r\n        markerEnd={markerEnd}\r\n      />\r\n      <foreignObject\r\n        width={foreignObjectSize}\r\n        height={foreignObjectSize}\r\n        x={edgeCenterX - foreignObjectSize / 2}\r\n        y={edgeCenterY - foreignObjectSize / 2}\r\n        className=\"edgebutton-foreignobject\"\r\n        requiredExtensions=\"http://www.w3.org/1999/xhtml\"\r\n      >\r\n        <body>\r\n          <button\r\n            className=\"edgebutton\"\r\n            onClick={(event) => onEdgeClick(event, id)}\r\n          >\r\n            Ã—\r\n          </button>\r\n        </body>\r\n      </foreignObject>\r\n    </>\r\n  );\r\n}","import './App.css';\nimport RenderPorts from './Patchbay'\n\nfunction App() {\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<header className=\"App-header\">\n\t\t\t\t<p>Marta</p>\n\t\t\t</header>\n\t\t\t<RenderPorts/>\n\t\t</div>\n\t);\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}